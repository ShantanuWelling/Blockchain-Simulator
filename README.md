# Blockchain-Simulator
### CS765: Introduction to Blockchain, Cryptocurrencies & Smart Contracts [Spring 2025, IIT Bombay]

#### Ameya Deshmukh, Mridul Agarwal, Shantanu Welling
#### 210050011, 210050100, 210010076 

Running instructions: 

`python3 simulator.py -num_peers <int> -frac_slow <float> -frac_low_cpu <float> -I <float> -interarrival_time <float> [optional] -stopping_height <int> -v <bool>` 

`<val>` is the value of the parameter. `num_peers` is the number of peers in the network, `frac_slow` is the fraction of slow peers, `frac_low_cpu` is the fraction of peers with low CPU, `I` is average interarrival time between blocks, and `interarrival_time` is the interarrival time between transactions. The optional args are `stopping_height` which is the height at which the simulation stops if all peers have reached that height, and `v` which is a boolean flag to enable visualization of trees for all peers at the end of the simulation. These have default values of `10` and `True` respectively.

Results are written to the output directory `results_{num_peers}_{frac_slow}_{frac_low_cpu}_{I}_{interarrival_time}`. There is a `balances.txt` file which contains a balance map of all the peers maintained by each peer at the end of the simulation as per the longest chain according to them. There is a `ratios.txt` file with the ratio of the number of blocks generated by each node in
the Longest Chain of the tree to the total number of blocks it generates at the end of the simulation. It also has the average ratio for all the 4 peer categories `slow_high`, `slow_low`, `fast_high`, `fast_low`. `tree_peer_<n>` files contain the tree of all blockchains heard since the start of the simulation by peer `n`. The peer also stores the time of arrival of every block in its tree which is written in this file. `tree_peer_<n>.png` files contain the visual representation of the tree at peer `n`. 